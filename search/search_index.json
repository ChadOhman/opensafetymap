{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Edmonton Accident &amp; Near Miss Reporting Platform","text":"<p>Welcome to the documentation site! \ud83d\udea6</p> <p>This project helps Edmontonians report and track traffic-related accidents and near misses.</p> <p></p>"},{"location":"#documentation","title":"\ud83d\udcd6 Documentation","text":"<ul> <li>Getting Started</li> <li>Features</li> <li>Contributing</li> <li>Roadmap</li> <li>Changelog</li> </ul>"},{"location":"admin_guide/","title":"\ud83d\udee0\ufe0f Admin Guide","text":"<p>\ud83d\udfe2 New here? Start with the Setup Guide to get your environment running quickly.</p> <p>This guide explains the responsibilities and workflows for admins on the Edmonton Accident &amp; Near Miss Reporting Platform.</p>"},{"location":"admin_guide/#becoming-an-admin","title":"\ud83d\udd11 Becoming an Admin","text":"<ul> <li>Admins are the highest-privilege role in the system.  </li> <li>Only project maintainers or trusted superusers are assigned this role.  </li> </ul>"},{"location":"admin_guide/#system-settings","title":"\u2699\ufe0f System Settings","text":"<p>Admins can configure platform-wide settings via the Admin Dashboard: - Require approval for reports \u2192 Toggle whether new reports must be approved before publishing. - Enable/disable user registration \u2192 Temporarily close sign-ups if needed. - System announcements \u2192 Post updates to all users.  </p>"},{"location":"admin_guide/#role-management","title":"\ud83d\udc65 Role Management","text":"<p>Admins can manage user roles: - Promote a user \u2192 Moderator or Admin. - Demote a moderator \u2192 Back to user. - Ban/unban users \u2192 Temporary or permanent.  </p> <p>\u26a0\ufe0f Only admins can change roles. Moderators cannot promote/demote.  </p>"},{"location":"admin_guide/#admin-analytics","title":"\ud83d\udcca Admin Analytics","text":"<p>Admins have access to advanced analytics beyond what moderators see: - Trends in approvals/rejections - Average moderation times across all mods - Heatmap of reports - Exportable logs (CSV/Excel)  </p>"},{"location":"admin_guide/#moderation-oversight","title":"\ud83d\uddc2\ufe0f Moderation Oversight","text":"<ul> <li>Admins can view the full moderation history log.  </li> <li>Notes are immutable for accountability.  </li> <li>Admins can audit moderator actions and step in if needed.  </li> </ul>"},{"location":"admin_guide/#security-responsibilities","title":"\ud83d\udd12 Security Responsibilities","text":"<ul> <li>Ensure OAuth provider credentials are properly configured.  </li> <li>Monitor for suspicious activity (spam, abuse).  </li> <li>Apply patches and updates to dependencies.  </li> </ul>"},{"location":"admin_guide/#best-practices","title":"\u2696\ufe0f Best Practices","text":"<ul> <li>Promote trusted moderators only.  </li> <li>Regularly review moderation logs.  </li> <li>Balance transparency with user privacy.  </li> <li>Maintain compliance with privacy and data protection standards.  </li> </ul>"},{"location":"analytics/","title":"\ud83d\udcca Analytics Dashboard","text":"<p>The Analytics Dashboard provides insights into reports, moderation activity, and trends.</p>"},{"location":"analytics/#dashboard-mockup","title":"Dashboard Mockup","text":""},{"location":"analytics/#features","title":"Features","text":"<ul> <li>Reports Over Time \u2192 Track number of accident/near-miss reports submitted monthly.  </li> <li>Approval vs Rejection Rates \u2192 Ratio of reports approved vs rejected by moderators.  </li> <li>Average Resolution Time \u2192 Monitor how quickly flagged reports or comments are handled.  </li> <li>Reports by Category \u2192 Breakdown of reports by pedestrian, cyclist, and motor vehicle incidents.  </li> </ul>"},{"location":"analytics/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>Moderator performance leaderboard (actions, resolution time).  </li> <li>Heatmap overlay for geospatial clustering of incidents.  </li> <li>Export analytics as CSV/Excel.  </li> </ul>"},{"location":"architecture/","title":"\ud83c\udfd7\ufe0f System Architecture","text":"<p>The Edmonton Accident &amp; Near Miss Reporting Platform is built as a web-first application with a modular backend and frontend.</p>"},{"location":"architecture/#high-level-overview","title":"\ud83c\udf10 High-Level Overview","text":"<ul> <li>Backend (PHP APIs) \u2192 Authentication, reports, moderation, analytics  </li> <li>Frontend (HTML + JS) \u2192 Interactive map, dashboards, user profiles  </li> <li>Database (MySQL) \u2192 Normalized schema with users, reports, moderation logs  </li> <li>External Services \u2192 OAuth providers, Amazon S3 for file uploads, GitHub Pages for docs  </li> </ul>"},{"location":"architecture/#database-schema","title":"\ud83d\uddc3\ufe0f Database Schema","text":"<p>The schema ensures normalization and accountability through: - Users \u2192 roles, privacy, and OAuth login mapping - Reports \u2192 structured categories, severity, and incident types - Moderation log \u2192 immutable audit trail  </p>"},{"location":"architecture/#moderation-workflow","title":"\ud83d\udee1\ufe0f Moderation Workflow","text":"<p>Reports and comments follow a structured review process: - Pending \u2192 Approved/Rejected - Flagged \u2192 Dismissed/Removed - All actions logged immutably  </p>"},{"location":"architecture/#analytics-dashboard","title":"\ud83d\udcca Analytics Dashboard","text":"<p>Admins and moderators get insights into: - Report trends - Approval/rejection ratios - Resolution times - Reports by category  </p>"},{"location":"architecture/#design-principles","title":"\ud83d\udd12 Design Principles","text":"<ul> <li>Transparency \u2192 Immutable logs for accountability  </li> <li>Security \u2192 OAuth-based login, private profiles, prepared SQL  </li> <li>Scalability \u2192 Modular APIs and structured DB schema  </li> <li>Accessibility \u2192 Map-first design, responsive UI  </li> </ul> <p>For implementation details, see: - Developer Guide - Database Schema - Moderation Workflow </p>"},{"location":"changelog/","title":"\ud83d\udcd1 Changelog","text":"<p>All notable changes to this project will be documented in this file. This project follows Semantic Versioning.</p>"},{"location":"changelog/#010-2025-10-03","title":"[0.1.0] - 2025-10-03","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Initial MVP release of Edmonton Accident &amp; Near Miss Reporting Platform</li> <li>User authentication with OAuth (Google, Apple, Mastodon, BlueSky)</li> <li>User roles (user, moderator, admin) with ban enforcement</li> <li>Report submission with categories, severity levels, accident/near-miss toggle, photo upload (S3)</li> <li>Interactive map with OpenStreetMap + clustering</li> <li>User profiles with privacy controls, aliases, reports, and comments</li> <li>Moderation dashboard with pending reports, flags, moderation notes, immutable logs, and analytics</li> <li>Analytics dashboard (approval/rejection rates, average resolution time, trends)</li> <li>Database seed data (users, reports, comments, flags, logs) for testing</li> <li>Documentation: README.md, QUICKSTART.md, CONTRIBUTING.md, CODE_OF_CONDUCT.md, ROADMAP.md, SECURITY.md</li> <li>GitHub setup: issue templates, PR template, .gitignore, .env.example, LICENSE (MIT)</li> </ul>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#planned","title":"Planned","text":"<ul> <li>Moderator performance analytics (leaderboards)</li> <li>Map heatmap visualization</li> <li>Export moderation logs to CSV/Excel</li> <li>Email notifications for approvals/rejections</li> <li>Improved responsive UI design</li> </ul>"},{"location":"contributing/","title":"Contributing to Edmonton Accident &amp; Near Miss Reporting Platform","text":"<p>We welcome contributions to improve this project! \ud83c\udf89</p>"},{"location":"contributing/#how-to-contribute","title":"\ud83c\udf00 How to Contribute","text":"<ol> <li> <p>Fork the repository    Create your own copy of the repo under your GitHub account.</p> </li> <li> <p>Create a feature branch    Use clear branch naming:  </p> </li> <li><code>feature/&lt;short-description&gt;</code> (for new features)  </li> <li><code>fix/&lt;short-description&gt;</code> (for bug fixes)  </li> <li><code>docs/&lt;short-description&gt;</code> (for documentation changes)  </li> </ol> <p>Example: <code>bash    git checkout -b feature/add-report-filters</code></p> <ol> <li> <p>Make your changes    Follow the coding standards outlined below.</p> </li> <li> <p>Commit messages    Use descriptive commit messages in the imperative mood:  </p> </li> <li>\u2705 <code>Add moderation filters to dashboard</code> </li> <li>\u2705 <code>Fix SQL query for report analytics</code> </li> <li> <p>\u274c <code>Fixed stuff</code> </p> </li> <li> <p>Push and open a Pull Request (PR) </p> </li> <li>Push your branch to your fork.  </li> <li>Open a PR against the <code>main</code> branch of this repo.  </li> <li>Clearly describe your changes in the PR body.  </li> </ol>"},{"location":"contributing/#coding-standards","title":"\u2728 Coding Standards","text":"<ul> <li>PHP:  </li> <li>Use PDO prepared statements for all queries.  </li> <li>Follow PSR-12 coding style where possible.  </li> <li> <p>Keep business logic inside API files, reusable helpers in <code>/db/</code>.  </p> </li> <li> <p>JavaScript:  </p> </li> <li>Use ES6 modules (<code>import/export</code>).  </li> <li>Favor async/await with <code>try/catch</code> for fetch calls.  </li> <li> <p>Keep UI logic in dedicated JS modules (<code>map.js</code>, <code>report_submission.js</code>, etc.).  </p> </li> <li> <p>CSS:  </p> </li> <li>Use shared <code>style.css</code> for consistency.  </li> <li> <p>Prefer utility classes and avoid inline styles.  </p> </li> <li> <p>Docs:  </p> </li> <li>Update <code>README.md</code> and <code>QUICKSTART.md</code> if your changes impact setup.  </li> <li>Add JSDoc/PHPDoc comments where appropriate.  </li> </ul>"},{"location":"contributing/#testing","title":"\ud83e\uddea Testing","text":"<ul> <li>Test API endpoints with <code>curl</code> or Postman before committing.  </li> <li>Verify new features in the browser with seeded data (<code>seed.sql</code>).  </li> <li>Ensure no regressions on:  </li> <li>Report submission &amp; display  </li> <li>Moderation dashboard workflows  </li> <li>Analytics dashboard  </li> </ul>"},{"location":"contributing/#security","title":"\ud83d\udd12 Security","text":"<ul> <li>Never commit real API keys, secrets, or passwords.  </li> <li>Use <code>.env</code> and <code>.env.example</code> for config.  </li> <li>Review PRs for SQL injection, XSS, CSRF issues.  </li> </ul>"},{"location":"contributing/#code-of-conduct","title":"\ud83d\ude4c Code of Conduct","text":"<p>By participating in this project, you agree to maintain a respectful and inclusive environment. Harassment or discrimination of any kind will not be tolerated.</p> <p>Thanks for contributing! \ud83d\udea6  </p>"},{"location":"database/","title":"\ud83d\uddc3\ufe0f Database Schema","text":"<p>This project uses a MySQL database with normalized tables for users, reports, moderation, and analytics.</p>"},{"location":"database/#entity-relationship-diagram-erd","title":"Entity Relationship Diagram (ERD)","text":""},{"location":"database/#key-tables","title":"Key Tables","text":"<ul> <li>users \u2192 Stores user accounts, roles, and privacy settings</li> <li>reports \u2192 Accident &amp; near miss reports with categories, severity, and status</li> <li>comments \u2192 User comments linked to reports</li> <li>flags \u2192 User-submitted content flags (reports or comments)</li> <li>moderation_log \u2192 Immutable record of moderation actions</li> <li>settings \u2192 System-wide settings (e.g., require approval toggle)</li> <li>categories, severity_levels, incident_types \u2192 Reference data for reports</li> </ul> <p>For details, see the schema in seed.sql.</p>"},{"location":"developer_guide/","title":"\ud83d\udcbb Developer Guide","text":"<p>\ud83d\udfe2 New here? Start with the Setup Guide to get your environment running quickly.</p> <p>This guide is for developers who want to contribute to or extend the Edmonton Accident &amp; Near Miss Reporting Platform.</p>"},{"location":"developer_guide/#prerequisites","title":"\ud83d\udee0\ufe0f Prerequisites","text":"<ul> <li>PHP 8.2+</li> <li>MySQL 8+</li> <li>Node.js (for frontend build tasks, optional)</li> <li>Composer (if using additional PHP libraries)</li> <li>Python 3 (if working with MkDocs documentation)</li> </ul>"},{"location":"developer_guide/#setting-up-locally","title":"\u2699\ufe0f Setting Up Locally","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/ChadOhman/opensafetymap.git\ncd accident-reports\n</code></pre> <ol> <li>Import the database:</li> </ol> <pre><code>mysql -u your_user -p accidents &lt; seed.sql\n</code></pre> <ol> <li>Configure database in <code>.env</code>:</li> </ol> <pre><code>DB_HOST=localhost\nDB_NAME=accidents\nDB_USER=root\nDB_PASS=secret\n</code></pre> <ol> <li>Start PHP local server:</li> </ol> <pre><code>php -S localhost:8000 -t public\n</code></pre> <ol> <li>Open <code>http://localhost:8000</code> in your browser.</li> </ol>"},{"location":"developer_guide/#codebase-structure","title":"\ud83d\udcc2 Codebase Structure","text":"<pre><code>accident-reports/\n\u251c\u2500\u2500 api/               # Backend PHP APIs\n\u2502   \u251c\u2500\u2500 auth/          # OAuth endpoints\n\u2502   \u251c\u2500\u2500 reports/       # Report submission &amp; management\n\u2502   \u251c\u2500\u2500 moderation/    # Moderation actions\n\u2502   \u251c\u2500\u2500 analytics/     # Analytics data endpoints\n\u2502   \u2514\u2500\u2500 users/         # User management\n\u251c\u2500\u2500 db/                # Database helpers &amp; connection\n\u251c\u2500\u2500 public/            # Frontend HTML/JS/CSS\n\u2502   \u251c\u2500\u2500 index.html     # Map &amp; reports\n\u2502   \u251c\u2500\u2500 moderation_dashboard.html\n\u2502   \u2514\u2500\u2500 js/            # JS modules\n\u251c\u2500\u2500 docs/              # Documentation site (MkDocs)\n\u251c\u2500\u2500 seed.sql           # Schema + seed data\n\u251c\u2500\u2500 .env.example       # Example environment file\n\u251c\u2500\u2500 mkdocs.yml         # Documentation config\n\u2514\u2500\u2500 .github/           # GitHub workflows &amp; templates\n</code></pre>"},{"location":"developer_guide/#apis","title":"\ud83d\udd0c APIs","text":"<ul> <li>All API endpoints are under <code>/api/</code>.</li> <li>Example: <code>GET /api/reports/list.php</code></li> <li>Authentication uses OAuth tokens mapped to local user accounts.</li> </ul>"},{"location":"developer_guide/#security-notes","title":"\ud83d\udd12 Security Notes","text":"<ul> <li>Always use prepared statements for DB queries.  </li> <li>Never commit real <code>.env</code> credentials.  </li> <li>Validate file uploads (S3).  </li> <li>Sanitize user inputs to prevent XSS.  </li> </ul>"},{"location":"developer_guide/#extending-the-platform","title":"\ud83d\ude80 Extending the Platform","text":"<ul> <li>Add new API endpoints in <code>/api/</code> </li> <li>Add frontend modules in <code>/public/js/</code> </li> <li>Update database schema via migration (then update <code>seed.sql</code>)  </li> <li>Document changes in <code>CHANGELOG.md</code> and <code>ROADMAP.md</code> </li> </ul>"},{"location":"developer_guide/#testing","title":"\ud83e\uddea Testing","text":"<ul> <li>Test APIs with Postman or curl.  </li> <li>Use seeded data (<code>seed.sql</code>) for dev testing.  </li> <li>CI/CD workflow runs PHP lint + SQL validation.  </li> </ul>"},{"location":"developer_guide/#documentation","title":"\ud83d\udcd6 Documentation","text":"<ul> <li>Docs are written in Markdown under <code>/docs/</code>.  </li> <li>Serve locally with:</li> </ul> <pre><code>mkdocs serve\n</code></pre> <ul> <li>Deploy with:</li> </ul> <pre><code>mkdocs gh-deploy\n</code></pre> <p>Happy hacking! \ud83e\udd77</p>"},{"location":"faq/","title":"\u2753 Frequently Asked Questions (FAQ)","text":"<p>This FAQ covers common questions for users, moderators, admins, and developers.</p>"},{"location":"faq/#users","title":"\ud83d\udc64 Users","text":"<p>Q: Do I need an account to view reports? A: No, you can browse the map anonymously. An account is required to submit reports, comment, or flag content.</p> <p>Q: How do I get an alias username? A: When you first sign in with Google, Apple, Mastodon, or BlueSky, the system generates a random alias for privacy.</p> <p>Q: Can I delete my reports or comments? A: Yes, you can delete your own reports and comments from your profile page.</p> <p>Q: How do I make my profile private? A: In your profile settings, you can choose Public, Members-only, or Private visibility.</p>"},{"location":"faq/#moderators","title":"\ud83d\udee1\ufe0f Moderators","text":"<p>Q: How do I become a moderator? A: Admins assign the moderator role to trusted users.</p> <p>Q: Can I promote someone to moderator? A: No, only admins can assign or remove roles.</p> <p>Q: Are moderation notes editable? A: No, notes are immutable for accountability.</p> <p>Q: Where can I see my moderation history? A: The Moderation Log records every action, visible to moderators and admins.</p>"},{"location":"faq/#admins","title":"\ud83d\udee0\ufe0f Admins","text":"<p>Q: How can I require approval for reports? A: Toggle the Require Approval setting in the Admin Dashboard.</p> <p>Q: Can admins see private user profiles? A: No, privacy settings apply to all roles, including admins.</p> <p>Q: How are bans handled? A: Admins and moderators can ban/unban users. All actions are logged in the moderation history.</p>"},{"location":"faq/#developers","title":"\ud83d\udcbb Developers","text":"<p>Q: How do I set up the project locally? A: See the Developer Guide for full setup instructions.</p> <p>Q: Where are API endpoints located? A: Under <code>/api/</code>, grouped by feature (auth, reports, moderation, analytics, users).</p> <p>Q: How do I extend the schema? A: Update the MySQL schema, modify <code>seed.sql</code>, and document changes in <code>CHANGELOG.md</code>.</p> <p>Q: How are docs deployed? A: The project uses MkDocs with GitHub Actions. Docs auto-deploy to GitHub Pages on pushes to <code>main</code>.</p>"},{"location":"faq/#general","title":"\ud83c\udf10 General","text":"<p>Q: Is my real name shown anywhere? A: No, the platform only uses alias usernames for privacy.</p> <p>Q: Can the data be shared with researchers or the city? A: Yes, future versions will provide a public API and export features.</p> <p>Q: Where do I report bugs or suggest features? A: Open a GitHub Issue using the provided templates.</p> <p>Still have questions? Check the Glossary or open an Issue on GitHub.  </p>"},{"location":"features/","title":"\u2728 Features","text":"<ul> <li>OAuth login (Google, Apple, Mastodon, BlueSky)</li> <li>User roles: user, moderator, admin</li> <li>Accident / near miss reporting</li> <li>Categories: pedestrian, cyclist, motor vehicle</li> <li>Severity levels: minor, moderate, severe</li> <li>Map visualization with clustering (Leaflet)</li> <li>Moderation dashboard with logs &amp; notes</li> <li>Analytics dashboard (approval trends, resolution times)</li> <li>Privacy controls and user profiles</li> </ul>"},{"location":"glossary/","title":"\ud83d\udcd6 Glossary","text":"<p>This glossary defines key terms used throughout the Edmonton Accident &amp; Near Miss Reporting Platform.</p>"},{"location":"glossary/#a","title":"A","text":"<p>Accident An incident where a collision or harm actually occurred.</p> <p>Alias Username A randomly generated, human-friendly identifier assigned to each user (e.g., <code>brave_silver_fox</code>). Used instead of real names for privacy.</p> <p>Analytics Dashboard An admin/moderator interface for visualizing trends, approval rates, and moderation performance.</p>"},{"location":"glossary/#c","title":"C","text":"<p>Categories Classifications for reports: Pedestrian, Cyclist, or Motor Vehicle.</p> <p>Comments User-submitted messages on reports. Can be flagged or removed if inappropriate.</p> <p>Contributors Community members who add features, fix bugs, or improve documentation.</p>"},{"location":"glossary/#f","title":"F","text":"<p>Flags Reports or comments marked by users for moderator review (e.g., spam, offensive content, inaccurate information).</p> <p>Frontend The public-facing web interface built with HTML, CSS, and JavaScript.</p>"},{"location":"glossary/#i","title":"I","text":"<p>Incident A reported event categorized as either an Accident or a Near Miss.</p> <p>Incident Types Reference values that distinguish between Accident and Near Miss reports.</p>"},{"location":"glossary/#m","title":"M","text":"<p>Moderation Dashboard An interface for moderators to manage pending reports, flagged content, and users.</p> <p>Moderation Log An immutable record of moderator/admin actions (approvals, rejections, bans, etc.).</p>"},{"location":"glossary/#n","title":"N","text":"<p>Near Miss An incident where no collision occurred but there was potential danger.</p>"},{"location":"glossary/#o","title":"O","text":"<p>OAuth Open standard for authentication. The platform supports Google, Apple, Mastodon, and BlueSky login providers.</p>"},{"location":"glossary/#r","title":"R","text":"<p>Reports User-submitted data about accidents or near misses, including severity, category, description, and location.</p> <p>Resolution Time The average time taken by moderators to handle a report or flag.</p> <p>Roles User access levels: - User \u2192 Can submit reports, comment, flag. - Moderator \u2192 Manages reports, flags, and bans. - Admin \u2192 Full access, including settings and role management.  </p>"},{"location":"glossary/#s","title":"S","text":"<p>Severity Levels The seriousness of a report: Minor, Moderate, Severe.</p> <p>S3 (Amazon Simple Storage Service) Used to store user-uploaded photos associated with reports.</p> <p>Settings Admin-controlled options (e.g., whether reports require approval).</p>"},{"location":"glossary/#u","title":"U","text":"<p>User Profile A page showing a user's alias, reports, comments, and privacy preferences.</p> <p>This glossary will grow as the project evolves.  </p>"},{"location":"moderation/","title":"\ud83d\udee1\ufe0f Moderation Workflow","text":"<p>The moderation system ensures that submitted reports and user interactions remain accurate, safe, and appropriate.  </p>"},{"location":"moderation/#workflow-diagram","title":"Workflow Diagram","text":""},{"location":"moderation/#stages","title":"Stages","text":""},{"location":"moderation/#1-report-submitted","title":"1. Report Submitted","text":"<p>A user submits an accident or near miss report. It enters the Pending Queue if approval is required.</p>"},{"location":"moderation/#2-pending-queue","title":"2. Pending Queue","text":"<p>If the system is configured to require moderation before publishing, new reports remain here until reviewed.</p>"},{"location":"moderation/#3-moderator-action","title":"3. Moderator Action","text":"<p>A moderator reviews the report and can: - Approve \u2192 Publishes the report to the map. - Reject \u2192 Report is hidden and logged with notes.  </p>"},{"location":"moderation/#4-approved-rejected","title":"4. Approved / Rejected","text":"<p>The final status is stored and visible in analytics.</p>"},{"location":"moderation/#5-flagged-content","title":"5. Flagged Content","text":"<p>Users may flag reports or comments as inappropriate. These go into a Flag Review Queue.</p>"},{"location":"moderation/#6-flag-review","title":"6. Flag Review","text":"<p>Moderators review flagged content and can: - Dismiss \u2192 No action taken, flag closed. - Remove \u2192 Report or comment is removed.  </p>"},{"location":"moderation/#7-dismissed-removed","title":"7. Dismissed / Removed","text":"<p>The outcome is logged in the moderation log.</p>"},{"location":"moderation/#8-moderation-log","title":"8. Moderation Log","text":"<p>Every action (approve, reject, ban, dismiss, remove) is recorded here: - Immutable - Includes moderator notes - Searchable and filterable in dashboard  </p>"},{"location":"moderation/#key-principles","title":"Key Principles","text":"<ul> <li>Transparency: All actions are logged.  </li> <li>Accountability: Notes explain moderator decisions.  </li> <li>Flexibility: Admins can configure whether reports require pre-approval.  </li> </ul>"},{"location":"moderator_guide/","title":"\ud83d\udee1\ufe0f Moderator Guide","text":"<p>\ud83d\udfe2 New here? Start with the Setup Guide to get your environment running quickly.</p> <p>This guide explains the responsibilities and workflows for moderators on the Edmonton Accident &amp; Near Miss Reporting Platform.</p>"},{"location":"moderator_guide/#becoming-a-moderator","title":"\ud83d\udd11 Becoming a Moderator","text":"<ul> <li>Admins assign moderator roles to trusted users.  </li> <li>Moderators can manage reports, comments, and users within the platform.  </li> </ul>"},{"location":"moderator_guide/#moderation-dashboard","title":"\ud83d\udccb Moderation Dashboard","text":"<p>The Moderation Dashboard is your main workspace. It provides: - Pending reports awaiting review - Flagged reports and comments - User directory (for admins) - Moderation history log (immutable)  </p>"},{"location":"moderator_guide/#reviewing-reports","title":"\ud83d\udcdd Reviewing Reports","text":""},{"location":"moderator_guide/#pending-reports","title":"Pending Reports","text":"<ul> <li>Review details, location, severity, and any uploaded photos.  </li> <li>Approve \u2192 Report is published.  </li> <li>Reject \u2192 Report is hidden; reason must be logged.  </li> </ul>"},{"location":"moderator_guide/#approved-reports","title":"Approved Reports","text":"<ul> <li>Can be revisited if later flagged.  </li> <li>Moderators may remove or reclassify if incorrect.  </li> </ul>"},{"location":"moderator_guide/#handling-flags","title":"\ud83d\udea9 Handling Flags","text":"<p>When a user flags content: 1. Open the Flagged Content Queue. 2. Review the report or comment. 3. Choose an action:    - Dismiss \u2192 No violation found.    - Remove \u2192 Content violates guidelines. 4. Log a moderation note (required).  </p>"},{"location":"moderator_guide/#user-management","title":"\ud83d\udc65 User Management","text":"<ul> <li>View user profiles (public/private).  </li> <li>Apply bans/unbans:  </li> <li>Temporary or permanent.  </li> <li>Logged with a note in moderation history.  </li> </ul> <p>(Admins only: Promote/demote moderators and change user roles.)  </p>"},{"location":"moderator_guide/#moderation-log","title":"\ud83d\uddc2\ufe0f Moderation Log","text":"<ul> <li>Every action is immutable and timestamped.  </li> <li>Includes moderator name, action, target, and notes.  </li> <li>Used for accountability and transparency.  </li> </ul>"},{"location":"moderator_guide/#best-practices","title":"\u2696\ufe0f Best Practices","text":"<ul> <li>Be consistent with community guidelines.  </li> <li>Document every decision with clear notes.  </li> <li>Stay respectful and impartial.  </li> <li>When in doubt, escalate to an Admin.  </li> </ul>"},{"location":"quickstart/","title":"\ud83d\ude80 Getting Started (Quick Guide)","text":""},{"location":"quickstart/#1-clone-the-repo","title":"1. Clone the repo","text":"<pre><code>git clone https://github.com/ChadOhman/opensafetymap.git\ncd accident-reports\n</code></pre>"},{"location":"quickstart/#2-import-the-database","title":"2. Import the database","text":"<ul> <li>Create a MySQL database (e.g., <code>accidents</code>).  </li> <li>Import the schema + seed data:</li> </ul> <pre><code>mysql -u your_user -p accidents &lt; seed.sql\n</code></pre> <p>This creates: - \ud83d\udc64 Users: <code>admin (brave_wise_owl)</code>, <code>moderator (quick_clever_fox)</code>, <code>user (gentle_happy_otter)</code> - \ud83d\udea6 Reports: pending, approved, rejected - \ud83d\udcac Comments, \ud83d\udea9 Flags, \ud83d\udcdc Moderation logs for testing  </p>"},{"location":"quickstart/#3-configure-db-connection","title":"3. Configure DB connection","text":"<p>Edit <code>db/connect.php</code>:</p> <pre><code>$dsn = \"mysql:host=localhost;dbname=accidents;charset=utf8mb4\";\n$user = \"your_mysql_user\";\n$pass = \"your_mysql_pass\";\n</code></pre>"},{"location":"quickstart/#4-run-the-server","title":"4. Run the server","text":"<p>From the project root:</p> <pre><code>php -S localhost:8000 -t public\n</code></pre> <p>Visit: http://localhost:8000</p>"},{"location":"quickstart/#5-test-accounts","title":"5. Test accounts","text":"<p>These are placeholder OAuth users \u2014 after your first real login, replace <code>oauth_provider</code> + <code>oauth_id</code> in the <code>users</code> table. - Admin: <code>brave_wise_owl</code> - Moderator: <code>quick_clever_fox</code> - User: <code>gentle_happy_otter</code> </p>"},{"location":"quickstart/#6-key-pages","title":"6. Key Pages","text":"<ul> <li><code>/</code> \u2192 Map + report submission  </li> <li><code>/login.html</code> \u2192 OAuth login  </li> <li><code>/user_profile.html?id=3</code> \u2192 Example user profile  </li> <li><code>/moderation_dashboard.html</code> \u2192 Moderator &amp; admin tools  </li> </ul> <p>That\u2019s it! \ud83c\udf89 Your testers can now log in, submit reports, view them on the map, and try out moderation flows with the seeded data.</p>"},{"location":"roadmap/","title":"\ud83d\uddfa\ufe0f Project Roadmap","text":"<p>This roadmap outlines upcoming features, improvements, and long-term goals for the Edmonton Accident &amp; Near Miss Reporting Platform.</p>"},{"location":"roadmap/#completed-mvp","title":"\u2705 Completed (MVP)","text":"<ul> <li>User authentication with OAuth (Google, Apple, Mastodon, BlueSky)</li> <li>User roles (user, moderator, admin) with ban enforcement</li> <li>Report submission (accidents &amp; near misses) with categories, severity, photo uploads</li> <li>OpenStreetMap with clustering of reports</li> <li>User profiles with reports, comments, and privacy controls</li> <li>Moderation dashboard with:</li> <li>Pending reports queue</li> <li>Flagged content management</li> <li>Moderation notes and immutable logs</li> <li>Analytics dashboard (approval/rejection rates, resolution times, trends)</li> <li>Seed data with realistic sample reports, comments, flags, logs</li> </ul>"},{"location":"roadmap/#short-term-goals","title":"\ud83c\udfaf Short-Term Goals","text":"<ul> <li>[ ] Add moderator performance analytics (leaderboard by actions/resolution time)</li> <li>[ ] Implement heatmap visualization on map</li> <li>[ ] Export moderation logs to CSV/Excel</li> <li>[ ] Add email notifications for report approvals/rejections</li> <li>[ ] Improve UI styling with responsive design and mobile-friendly layouts</li> </ul>"},{"location":"roadmap/#mid-term-goals","title":"\ud83d\ude80 Mid-Term Goals","text":"<ul> <li>[ ] Add multi-language support (English + French initially)</li> <li>[ ] Implement notifications system (in-app alerts for comments, flags, moderation actions)</li> <li>[ ] Enhance reporting form with step-by-step wizard and improved UX</li> <li>[ ] Add batch moderation actions for efficiency</li> <li>[ ] Introduce bulk import/export of reports for city data integration</li> </ul>"},{"location":"roadmap/#long-term-vision","title":"\ud83c\udf10 Long-Term Vision","text":"<ul> <li>[ ] Build native mobile apps (iOS &amp; Android) using a shared API backend</li> <li>[ ] Integrate with city open data portals for bidirectional sharing</li> <li>[ ] Machine learning to detect duplicate reports and spam submissions</li> <li>[ ] Advanced analytics dashboards (heatmaps, severity over time, location clustering by type)</li> <li>[ ] Public API for researchers and third-party integrations</li> </ul>"},{"location":"roadmap/#contribution-guidelines","title":"\ud83d\udccc Contribution Guidelines","text":"<p>If you'd like to help with roadmap features: - Open an issue labeled <code>roadmap</code> with your suggestion or implementation proposal. - Coordinate with maintainers before working on larger features. - Follow CONTRIBUTING.md for coding standards and workflow.</p> <p>This roadmap is a living document and will evolve with the needs of the community.</p>"},{"location":"setup/","title":"\ud83d\ude80 Project Setup Guide","text":"<p>This guide explains how to get the Edmonton Accident &amp; Near Miss Reporting Platform running locally in just a few steps.</p>"},{"location":"setup/#prerequisites","title":"\ud83d\udee0\ufe0f Prerequisites","text":"<ul> <li>Docker</li> <li>Docker Compose</li> <li>Make (optional, but recommended)</li> </ul>"},{"location":"setup/#quick-start","title":"\u26a1 Quick Start","text":"<ol> <li>Clone the repository </li> </ol> <pre><code>git clone https://github.com/ChadOhman/opensafetymap.git\ncd accident-reports\n</code></pre> <ol> <li>Start the stack with Docker Compose </li> </ol> <pre><code>make up\n</code></pre> <p>This will spin up: - app \u2192 PHP + Apache web app (http://localhost:8080) - db \u2192 MySQL database (port 3306, user <code>root</code>, pass <code>example</code>)  </p> <ol> <li>Seed the database </li> </ol> <pre><code>make seed\n</code></pre> <p>This will import <code>seed.sql</code> into the MySQL database.</p> <ol> <li>Visit the app Open your browser: \ud83d\udc49 http://localhost:8080</li> </ol>"},{"location":"setup/#useful-commands","title":"\ud83e\uddf0 Useful Commands","text":"<ul> <li><code>make up</code> \u2192 Start stack  </li> <li><code>make down</code> \u2192 Stop stack  </li> <li><code>make logs</code> \u2192 Tail container logs  </li> <li><code>make ps</code> \u2192 Show running containers  </li> <li><code>make restart</code> \u2192 Restart containers  </li> <li><code>make db-shell</code> \u2192 Open MySQL shell inside DB container  </li> <li><code>make app-shell</code> \u2192 Open shell inside PHP app container  </li> <li><code>make seed</code> \u2192 Re-import database schema &amp; test data  </li> </ul>"},{"location":"setup/#youre-ready","title":"\u2705 You're Ready!","text":"<p>You now have a full local environment running the project. \ud83c\udf89 Next steps: Check the Developer Guide for contributing details.  </p>"},{"location":"user_guide/","title":"\ud83d\udc64 User Guide","text":"<p>\ud83d\udfe2 New here? Start with the Setup Guide to get your environment running quickly.</p> <p>This guide explains how to use the Edmonton Accident &amp; Near Miss Reporting Platform as an end user.</p>"},{"location":"user_guide/#getting-started","title":"\ud83d\udd11 Getting Started","text":""},{"location":"user_guide/#1-sign-up-login","title":"1. Sign Up / Login","text":"<ul> <li>Use Google, Apple, Mastodon, or BlueSky to log in.  </li> <li>The system automatically assigns you a random alias username (e.g., <code>gentle_happy_otter</code>).  </li> <li>You can adjust your profile visibility in Settings.</li> </ul>"},{"location":"user_guide/#2-profile-settings","title":"2. Profile Settings","text":"<ul> <li>Public \u2192 Anyone can see your profile &amp; reports.  </li> <li>Members-only \u2192 Only logged-in users can see your profile.  </li> <li>Private \u2192 Only you can see your profile.  </li> <li>You can also delete your account at any time.</li> </ul>"},{"location":"user_guide/#submitting-reports","title":"\ud83d\udcdd Submitting Reports","text":""},{"location":"user_guide/#1-create-a-report","title":"1. Create a Report","text":"<ul> <li>Click \"Submit Report\" from the homepage map.  </li> <li>Provide details:  </li> <li>Type \u2192 Accident or Near Miss  </li> <li>Category \u2192 Pedestrian, Cyclist, or Motor Vehicle  </li> <li>Severity \u2192 Minor, Moderate, Severe  </li> <li>Location \u2192 Pin on the map  </li> <li>Description \u2192 What happened?  </li> <li>Photo (optional) \u2192 Upload to S3 storage  </li> </ul>"},{"location":"user_guide/#2-report-approval","title":"2. Report Approval","text":"<ul> <li>If moderation is enabled, your report will enter the Pending Queue until approved.  </li> <li>If moderation is disabled, reports appear immediately.</li> </ul>"},{"location":"user_guide/#comments","title":"\ud83d\udcac Comments","text":"<ul> <li>You can comment on any public report.  </li> <li>Be respectful \u2014 all comments are subject to moderation.  </li> <li>Inappropriate comments can be flagged.</li> </ul>"},{"location":"user_guide/#flagging-content","title":"\ud83d\udea9 Flagging Content","text":"<ul> <li>If you see inappropriate or false content:  </li> <li>Click \"Flag\" under a report or comment.  </li> <li>Choose a reason (spam, offensive, inaccurate).  </li> <li>Moderators will review and take action.</li> </ul>"},{"location":"user_guide/#viewing-analytics","title":"\ud83d\udcca Viewing Analytics","text":"<ul> <li>As a user, you can see public analytics on the homepage dashboard:  </li> <li>Reports over time  </li> <li>Categories distribution  </li> <li> <p>Approval/rejection ratios  </p> </li> <li> <p>Moderators &amp; Admins see advanced analytics (moderation performance, resolution times).</p> </li> </ul>"},{"location":"user_guide/#safety-and-privacy","title":"\ud83d\udd12 Safety and Privacy","text":"<ul> <li>Your real name is never shown.  </li> <li>Every user gets a random alias by default.  </li> <li>You can choose to stay anonymous when commenting.  </li> </ul>"}]}